{"ast":null,"code":"var _jsxFileName = \"/Users/junlanlu/Documents/CMPE 273/Group_Project/Twitter_simulator_webApp/frontend_combined_withUser/src/components/Deactivate/Deactivate.js\";\nimport React, { Component } from 'react';\nimport { deleteuser } from '../../redux/actions/signup_login_actions';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router';\n\nclass Deactivate extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      console.log(\"password is \", e.target.value);\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onDeactivate = async e => {\n      e.preventDefault();\n      let username = localStorage.getItem(\"cookie2\");\n      let post = {\n        username: username,\n        password: this.state.password\n      };\n      await this.props.deleteuser(post);\n\n      if (this.props.deleteSuccess) {\n        localStorage.clear();\n        window.location.replace('/DeactivatedPage');\n      } else {\n        this.setState({\n          IncorrectCredentials: \"Incorrect Credentials\"\n        });\n      }\n    };\n\n    this.state = {\n      password: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  render() {\n    let redirectVar = null;\n\n    if (!localStorage.getItem('cookie2')) {\n      redirectVar = React.createElement(Redirect, {\n        to: \"/TwitterHome\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, redirectVar, React.createElement(\"nav\", {\n      className: \"navbar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"navbar-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"navbar-brand\",\n      href: \"/TwitterHome\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Home\"), React.createElement(\"span\", {\n      className: \"twitter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"deactivate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"To Deactivate your account\"), React.createElement(\"p\", {\n      className: \"deactivate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Confirm your password\"), React.createElement(\"div\", {\n      className: \"field1234567890\",\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, this.state.IncorrectCredentials), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.onDeactivate,\n      method: \"post\",\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"field12\",\n      onChange: this.handleChange,\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"but\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"loginbutton2\",\n      style: {\n        width: \"25%\"\n      },\n      value: \"Deactivate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    deleteSuccess: state.signin.deleteSuccess\n  };\n};\n\nexport default connect(mapStateToProps, {\n  deleteuser\n})(Deactivate);","map":{"version":3,"sources":["/Users/junlanlu/Documents/CMPE 273/Group_Project/Twitter_simulator_webApp/frontend_combined_withUser/src/components/Deactivate/Deactivate.js"],"names":["React","Component","deleteuser","connect","Redirect","Deactivate","constructor","handleChange","e","console","log","target","value","setState","name","onDeactivate","preventDefault","username","localStorage","getItem","post","password","state","props","deleteSuccess","clear","window","location","replace","IncorrectCredentials","bind","render","redirectVar","color","width","mapStateToProps","signin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { deleteuser } from '../../redux/actions/signup_login_actions';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router';\n\nclass Deactivate extends Component {\n    constructor() {\n        super();\n        this.state = {\n            password: \"\"\n        }\n        this.handleChange = this.handleChange.bind(this);\n    }\n    handleChange = (e) => {\n        console.log(\"password is \", e.target.value);\n        this.setState(\n            {\n                [e.target.name]: e.target.value\n            }\n        )\n    }\n    onDeactivate = async (e) => {\n        e.preventDefault();\n        let username = localStorage.getItem(\"cookie2\");\n        let post = {\n            username: username,\n            password: this.state.password,\n        }\n\n        await this.props.deleteuser(post);\n        if (this.props.deleteSuccess) {\n            localStorage.clear();\n            window.location.replace('/DeactivatedPage');\n        } else {\n            this.setState(\n                {\n                    IncorrectCredentials: \"Incorrect Credentials\"\n                }\n            )\n        }\n\n    }\n    render() {\n\n        let redirectVar = null;\n        if (!localStorage.getItem('cookie2')) {\n            redirectVar = <Redirect to=\"/TwitterHome\" />;\n        }\n        return (\n            <div >\n                {redirectVar}\n                <nav className=\"navbar\">\n                    <div className=\"container-fluid\">\n                        <div className=\"navbar-header\">\n                            <a className=\"navbar-brand\" href=\"/TwitterHome\">Home</a>\n                            <span className=\"twitter\"></span>\n                        </div>\n                    </div>\n                </nav>\n                <div className=\"login\">\n                    <p className=\"deactivate\">To Deactivate your account</p>\n                    <p className=\"deactivate\">Confirm your password</p>\n                    <div className=\"field1234567890\" style={{ color: \"red\" }}>{this.state.IncorrectCredentials}</div><br />\n                    <form onSubmit={this.onDeactivate} method=\"post\" autoComplete=\"off\">\n                        <div className=\"form-group\">\n\n                            <input className=\"field12\" onChange={this.handleChange} type=\"password\" name=\"password\" placeholder=\"Password\" required />\n                        </div>\n                        <br></br>\n                        <div className=\"but\">\n                            <input type=\"submit\" className=\"loginbutton2\" style={{ width: \"25%\" }} value=\"Deactivate\" />\n\n                        </div>\n                        <br></br>\n                        <br></br>\n                    </form>\n                </div>\n                <br></br>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        deleteSuccess: state.signin.deleteSuccess\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    { deleteuser }\n)(Deactivate);\n"]},"metadata":{},"sourceType":"module"}